(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[2302],{3837:function(e,n,t){var a;t.d(n,{J:function(){return a}}),function(e){e.IN_SEAT="seat",e.ON_LAP="lap"}(a||(a={}))},25525:function(e,n,t){var a;t.d(n,{m:function(){return a}}),function(e){e.FLIGHT_SEARCH="FLIGHT_SEARCH",e.HOTWIRE_FLIGHT_SEARCH="HOTWIRE_FLIGHT_SEARCH",e.HOTEL_SEARCH="HOTEL_SEARCH",e.HOTWIRE_HOTEL_SEARCH="HOTWIRE_HOTEL_SEARCH",e.PACKAGE_SEARCH="PACKAGE_SEARCH",e.HOTWIRE_PACKAGE_SEARCH="HOTWIRE_PACKAGE_SEARCH",e.CRUISE_SEARCH="CRUISE_SEARCH",e.GROUND_TRANSPORT_SEARCH="GROUND_TRANSPORT_SEARCH",e.CAR_SEARCH="CAR_SEARCH",e.THIRD_SEARCH="THIRD_SEARCH",e.NONE="NONE"}(a||(a={}))},58162:function(e,n,t){t.d(n,{P:function(){return Oe}});var a=t(67294),r=t(35583),i=t(98964),l=t(80955),o=t(54552),c=t(22188),d=t(64366),u=t(8315),s=t(80463),m=t(13413),f=t(95637),h=t(68084),g=t(22570),v=t(49560),p=t(18397),E=t(67560),S=t(14384),T=t(29892),R=(0,l.observer)((function(e){var n=e.onChange,t=e.id,r=e.labelKey,i=e.dataTestid,l=e.children,o=e.ageOptions,c=e.padding,d=e.menuIndex,u=(0,T.useLocalization)().formatText,s=function(e){var t=+e.currentTarget.id.slice(-1);n(d,t)(e)};return a.createElement("div",null,a.createElement(S.l,{padding:c},a.createElement(E.UitkLayoutGrid,{columns:2,space:"two","data-testid":i},l.map((function(e,n){var i=u(r,n+1),l=t+"-"+d+"-"+n,c=isNaN(+l.slice(-1))?""+n:l;return a.createElement(E.UitkLayoutGridItem,{colSpan:1,key:n},a.createElement(p.e,{label:i,value:-1===e.age?"":e.age.toString(),onChange:s,id:c,emptyState:!0},o.map((function(e){return a.createElement("option",{key:e.value,value:e.value},e.name)}))))})))))})),k="wizard.roomPicker.roomPickerOpened.liveAnnounce",A="wizard.roomPicker.roomAdded.liveAnnounce",O="wizard.roomPicker.roomRemoved.liveAnnounce",C="wizard.roomPicker.doneButton.label",y="wizard.roomPicker.addRoomButton.label",w="wizard.roomPicker.removeRoomButton.label",I="wizard.roomPicker.removeRoomButton.a11yLabel",b="wizard.roomPicker.childAgeInput.label",x="wizard.roomPicker.infantAgeInput.label",P="wizard.roomPicker.room.title",H="wizard.roomPicker.room.a11yLabel",_="wizard.roomPicker.childUpdated.liveAnnounce",N="wizard.roomPicker.infantUpdated.liveAnnounce",L="wizard.roomPicker.decreaseAdults.text",z="wizard.roomPicker.decreaseChildren.text",F="wizard.roomPicker.decreaseInfants.text",G="wizard.roomPicker.decreaseAdultsInRoom.text",U="wizard.roomPicker.decreaseChildrenInRoom.text",K="wizard.roomPicker.decreaseInfantsInRoom.text",j="wizard.roomPicker.adults.text",D="wizard.roomPicker.increaseAdults.text",B="wizard.roomPicker.increaseChildren.text",W="wizard.roomPicker.increaseInfant.text",J="wizard.roomPicker.increaseAdultsInRoom.text",V="wizard.roomPicker.increaseChildrenInRoom.text",Y="wizard.roomPicker.increaseInfantInRoom.text",M="wizard.roomPicker.children.text",Q="wizard.roomPicker.infants.text",X="wizard.airline.children.seatRules",Z="wizard.airline.children.seatRulesPlural",q="wizard.airline.children.seatOption.inSeat",$="wizard.airline.children.seatOption.onLap",ee="wizard.airline.ageRules.label",ne=t(66890),te=t(72933),ae=t(18242),re=function(){return(re=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},ie=(0,l.inject)("analytics","context")((function(e){var n,t=a.createRef();e.roomRefs.push(t);var r,l=(0,T.useLocalization)().formatText,o=function(e,n,t,a){var r=n.adults,i=n.children;return e?a+Math.min(t,e-(r+i.length)):t},c=(0,ne.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),d="guests.",s=e.lobState.config.elementId||"",m=s.includes("flight"),f=s.includes("car"),h=m||f?l(D):l(J,e.index+1),g=m||f?l(L):l(G,e.index+1),p=m||f?l(B):l(V,e.index+1),E=m||f?l(z):l(U,e.index+1),k=m||f?l(W):l(Y,e.index+1),A=m||f?l(F):l(K,e.index+1),C=1===e.index?"six":"unset",y=1===e.index?"two":"unset";return a.createElement(S.l,{padding:{blockstart:C},margin:{blockstart:y}},a.createElement("div",{className:"roomPickerRoom","data-testid":"room-"+(e.index+1)},e.config.withRooms&&a.createElement(S.l,{padding:{blockstart:"two"}},a.createElement("div",{ref:t,"data-testid":"room-header"},a.createElement(te.y,{size:7,tag:"h3","data-testid":"room-header-"+e.index,"aria-label":l(H,e.index+1,e.travelers.rooms.length),tabIndex:0},l(P,e.index+1)))),a.createElement(v.Q,{label:l(j),incrementText:h,decrementText:g,description:l((null===(n=e.config)||void 0===n?void 0:n.adultsCaptionToken)||""),max:o(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxAdultsPerRoom,e.room.adults),min:e.config.minAdultsPerRoom,value:e.room.adults,onChange:(r=e.index,function(n){e.setTravelers({rooms:e.travelers.rooms.map((function(e,t){return t===r?re(re({},e),{adults:parseInt(n.target.value,10)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent(""+d+r+".adults")}),className:"adultStepInput",id:"adult-input-"+e.index}),a.createElement(v.Q,{label:l(M),incrementText:p,decrementText:E,description:l(e.config.childrenCaptionToken),max:o(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxChildrenPerRoom,e.room.children.length),min:e.config.minChildrenPerRoom,value:e.room.children.length,onChange:function(n){return function(t){var a=parseInt(t.target.value,10)>e.travelers.rooms[n].children.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minChildAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,t){return t===n?re(re({},e),{children:a?e.children.concat({age:r}):e.children.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent(""+d+n+".children")}}(e.index),className:"childStepInput",id:"child-input-"+e.index}),e.room.children&&e.room.children.length>0&&e.config.withAges&&a.createElement(R,{ageOptions:e.childAgeOptions,onChange:function(n,t){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===n?re(re({},e),{children:e.children.map((function(e,n){return n===t?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,i.P)(l(_,t+1,r),i.a.POLITE)}},children:e.room.children,padding:{blockstart:"one",blockend:"three"},menuIndex:e.index,labelKey:b,id:"child-age-input"}),e.config.withInfants&&a.createElement(a.Fragment,null,a.createElement(v.Q,{label:l(Q),incrementText:k,decrementText:A,description:l(e.config.infantsCaptionToken),max:e.config.maxInfantsPerRoom,min:e.config.minInfantsPerRoom,value:e.room.infants.length,onChange:function(n){return function(t){var a=parseInt(t.target.value,10)>e.travelers.rooms[n].infants.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minInfantAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,t){return t===n?re(re({},e),{infants:a?e.infants.concat({age:r}):e.infants.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent(""+d+n+".infants")}}(e.index),className:"childStepInput",id:"infant-input-"+e.index}),e.config.withAges&&a.createElement(R,{ageOptions:e.infantAgeOptions,onChange:function(n,t){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===n?re(re({},e),{infants:e.infants.map((function(e,n){return n===t?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,i.P)(l(N,t+1,r),i.a.POLITE)}},children:e.room.infants,padding:{blockstart:"one"},dataTestid:"infant-ages",menuIndex:e.index,labelKey:x,id:"infant-age-input"})),e.index>0&&a.createElement(S.l,{padding:{blockstart:"four"}},a.createElement(ae.v,{justifyContent:"end"},a.createElement(ae.t,null,a.createElement("div",{className:"removeRoomButton"},a.createElement(u.m,{onClick:function(n){return function(){e.setTravelers({rooms:e.travelers.rooms.filter((function(e,t){return n!==t})),infantSeating:e.travelers.infantSeating}),(0,i.P)(l(O,""),i.a.POLITE),e.setTotalRoomRefs(e.totalRoomRefs-1),c.trackEvent(d+"remove-room")}}(e.index),"aria-label":l(I,e.index+1,e.travelers.rooms.length)},l(w))))))))})),le=t(3837),oe=t(45688),ce=(0,l.inject)("analytics")((function(e){var n=[],t=[],r=(0,T.useLocalization)().formatText,l=function(e,n,t,a){for(var i=e;i<=n;i++){var l=i===e&&t?r(t):i.toString();a.push({value:i.toString(),name:l})}};l(e.config.minChildAge,e.config.maxChildAge,e.config.youngestChildAgeTextToken,n),l(e.config.minInfantAge,e.config.maxInfantAge,e.config.youngestInfantAgeTextToken,t);var o=(0,ne.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),c="guests.",v=(0,oe.Y)(e.travelers),p=v.numOfChildren,E=v.numOfInfants,R=e.config.withRooms&&e.travelers.rooms.length<e.config.maxRooms,k=e.config.withInfants&&e.config.withFlight&&!!E,O=e.config.withFlight&&e.config.withAges&&(!!p||e.config.withInfants&&!!E),w=E&&E>1?Z:X;return a.createElement(a.Fragment,null,a.createElement("section",{className:"uitk-cell all-x-padding-one all-t-padding-half all-b-padding-twelve uitk-scroll-vertical"},e.travelers.rooms.map((function(r,i){return a.createElement(ie,{setTravelers:e.setTravelers,travelers:e.travelers,key:i,index:i,room:r,config:e.config,roomRefs:e.roomRefs,totalRoomRefs:e.totalRoomRefs,setTotalRoomRefs:e.setTotalRoomRefs,childAgeOptions:n,infantAgeOptions:t,lobState:e.lobState})})),R&&a.createElement("div",{className:"addRoomButton uitk-type-right"},a.createElement(u.m,{onClick:function(){e.setTravelers({rooms:e.travelers.rooms.concat({adults:1,children:[],infants:[]}),infantSeating:e.travelers.infantSeating}),(0,i.P)(r(A,e.travelers.rooms.length+1),i.a.POLITE),e.setTotalRoomRefs(e.totalRoomRefs+1),o.trackEvent(c+"add-room")},"data-testid":"add-room-button"},r(y))),k&&a.createElement(S.l,{padding:{blockstart:"six"}},a.createElement("div",{className:"airlineChildSeating"},a.createElement("fieldset",null,a.createElement(S.l,{padding:{blockend:"two"}},a.createElement(te.bc,{size:300},r(w))),a.createElement(f.s,{group:"InfantSeating",onChange:function(n){e.setTravelers({rooms:e.travelers.rooms,infantSeating:n.currentTarget.value})},selected:e.travelers.infantSeating},a.createElement(S.l,{padding:{inlineend:"six"}},a.createElement(f.n,{id:"ChildOnLap",value:le.J.ON_LAP},r($))),a.createElement(S.l,{padding:{inlineend:"six"}},a.createElement(f.n,{id:"ChildInSeat",value:le.J.IN_SEAT},r(q))))))),O&&a.createElement("div",{className:"uitk-cell all-cell-1-1"},a.createElement(h.UitkLink,{size:"small",className:"airlineAgeRules"},a.createElement("a",{href:"/p/info-main/h_fw_default?rhtx=HTX_FLTSRCH_RT#travs",id:"airline-age-rules",target:"_blank",rel:"noopener"},r(ee),a.createElement(g.fR,{id:"airline-age-rules-opens-in-new",name:"open_in_new",title:"Opens in a new window"})))),a.createElement("div",{className:"all-t-padding-two all-b-padding-six"})),a.createElement(d.oy,{className:"guestsDoneBtn",type:d.kL.BUTTON},a.createElement(s.t,{onClick:function(){e.onSave(e.travelers)},size:m.xY.LARGE,isFullWidth:!0,"data-testid":"guests-done-button"},r(C))))})),de=t(16846),ue=t(25570),se=t(2347),me=function(){return(me=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},fe=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,i=t.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(o){r={error:o}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return l},he=function(e){var n=[],t=e.invalidTokenKey,r=e.onChange,i=e.lobState,l=i.validateTravelersField,o=i.validateInfantsPerTraveler,d=i.validateUnattendedInfantInLap,u=i.config,s=(0,T.useLocalization)().formatText,m=fe(a.useState(0),2),f=m[0],h=m[1],g=fe(a.useState((0,c.toJS)(e.travelers)),2),v=g[0],p=g[1],E=l(),S=t||i.nonHotelTravelersInvalidKey||i.hotelTravelersInvalidKey||"",R=!E&&""!==S,k=fe(a.useState([]),2),A=k[0],O=k[1],C=e.config,y=C.invalidNumberOfInfantPerTravelerMessageToken,w=C.invalidUnattendedInfantOnLapMessageToken;return a.useEffect((function(){var e=n[n.length-1];if(e&&e.current){var t=e.current.firstElementChild;t&&t.focus()}}),[f]),a.useEffect((function(){S&&(o&&!o()&&S===y?O([u.travelers.minInfantPerTraveler,u.travelers.minAdultAge]):d&&!d()&&S===w?O([u.travelers.minAdultAge]):O([u.travelers.maxBookableTravelers])),(0,c.toJS)(e.travelers)!==v&&i instanceof se.Zb&&p(e.travelers)}),[R,S,e.travelers]),a.createElement("div",null,a.createElement(ue.Viewport,null,a.createElement(ue.ViewSmall,null,a.createElement(a.Fragment,null,R&&a.createElement("div",{className:"all-x-padding-one all-t-padding-two"},a.createElement(de.m,{className:"all-t-padding-two",locHeadingToken:S,locHeadingArgs:A,focusOnError:!1})))),a.createElement(ue.ViewLarge,null,a.createElement("div",{className:"all-x-padding-one all-t-padding-two"},a.createElement(te.y,{tag:"h3",size:5},s(e.config.dialogTitleToken)),R&&a.createElement(de.m,{className:"all-t-padding-two",locHeadingToken:S,locHeadingArgs:A,focusOnError:!1})))),a.createElement(ce,me({},e,{roomRefs:n,totalRoomRefs:f,setTotalRoomRefs:h,travelers:v,setTravelers:function(e){p(e),r(e)}})))},ge=(0,l.observer)((function(e){var n=e.travelers,t=e.onSave,r=e.onChange,i=e.config,l=e.invalidTokenKey,o=e.lobState;return a.createElement(he,{travelers:n,onSave:t,onChange:r,config:i,invalidTokenKey:l,lobState:o})})),ve=t(25525),pe=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Ee=(0,l.inject)("context")((0,l.observer)((function(e){var n,t,r=e.hiddenInputType,i=e.flightSearch,l=e.hotwireFlightSearch,o=e.hotelSearch,c=e.hotwireHotelSearch,d=e.packageSearch,u=e.hotwirePackageSearch,s=e.cruiseSearch,m=e.thirdSearch,f=e.isApiCallEnabled,h=e.groundTransportSearch;switch(r){case ve.m.GROUND_TRANSPORT_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adults",value:h.numOfAdults,"data-testid":"adults-input"}),h.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"children",value:h.numOfChildren,"data-testid":"children-input"}),h.numOfInfants>0&&a.createElement("input",{type:"hidden",name:"infants",value:h.numOfInfants,"data-testid":"infants-input"}));case ve.m.FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"passengers",value:i,"data-testid":"passengers-input"});case ve.m.HOTWIRE_FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"noOfTickets",value:l,"data-testid":"noOfTickets-input"});case ve.m.HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:o.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:o.adults,"data-testid":"adults-input"}),o.children&&a.createElement("input",{type:"hidden",name:"children",value:o.children,"data-testid":"children-input"}));case ve.m.HOTWIRE_HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:c.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:c.adults,"data-testid":"adults-input"}),c.children&&a.createElement("input",{type:"hidden",name:"children",value:c.children,"data-testid":"children-input"}));case ve.m.PACKAGE_SEARCH:var g=[];try{for(var v=pe(Object.keys(d)),p=v.next();!p.done;p=v.next()){var E=p.value;g.push(a.createElement("input",{type:"hidden",name:E,key:E,value:d[E],"data-testid":E+"-input"}))}}catch(T){n={error:T}}finally{try{p&&!p.done&&(t=v.return)&&t.call(v)}finally{if(n)throw n.error}}return a.createElement(a.Fragment,null,g);case ve.m.HOTWIRE_PACKAGE_SEARCH:return a.createElement(a.Fragment,null,Object.keys(u).map((function(e){return a.createElement("input",{type:"hidden",name:e,key:e,value:u[e],"data-testid":e+"-input"})})));case ve.m.CRUISE_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adultCount",value:s.numOfAdults,"data-testid":"cruise-adults-input"}),s.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childCount",value:s.numOfChildren,"data-testid":"cruise-children-input"}),s.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childAges",value:s.childAges,"data-testid":"cruise-childAges-input"}));case ve.m.THIRD_SEARCH:var S=[];return S.push(a.createElement("input",{type:"hidden",name:f?"adultCount":"adult",value:m.numOfAdults,"data-testid":"third-adult-input",key:"third-adult-input"})),m.numOfChildren>0&&(f?(S.push(a.createElement("input",{type:"hidden",name:"numChildren",value:m.numOfChildren,"data-testid":"third-child-input",key:"third-child-input"})),(m.childAges||"").split(",").forEach((function(e,n){S.push(a.createElement("input",{type:"hidden",name:"childAge",value:e,"data-testid":"third-child-"+n+"-input",key:"third-child-"+n+"-input"}))}))):S.push(a.createElement("input",{type:"hidden",name:"child",value:m.childAges,"data-testid":"third-child-ages-input",key:"third-child-ages-input"}))),a.createElement(a.Fragment,null,S);default:return a.createElement(a.Fragment,null)}}))),Se=t(73647),Te=t(45239),Re=t(51796),ke=t(31720),Ae=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,i=t.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(o){r={error:o}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return l},Oe=(0,l.inject)("analytics")((0,l.observer)((function(e){var n=e.triggerType,t=void 0===n?Se.Q.FAKE_INPUT:n,l=e.handleMenuTriggerState,c=e.lobState,d=e.onSave,u=e.setChange,s=e.isChanged,m=e.noRehydratationValues,f=e.config,v=e.metadata,p=e.travelers,E=e.tripLobType,S=e.analytics,R=e.invalidTokenKey,A=e.isApiCallEnabled,O=a.useRef(null),C=Ae((0,r.useDialog)("travelers-dialog-"+c.config.elementId),3),y=C[0],w=C[1],I=C[2],b=v.numOfAdults,x=v.numOfChildren,P=v.numOfInfants,H=v.flightSearch,_=v.hotwireFlightSearch,N=v.hotelSearch,L=v.hotwireHotelSearch,z=v.packageSearch,F=v.hotwirePackageSearch,G=v.cruiseSearch,U=v.groundTransportSearch,K=v.thirdSearch,j=f.withFlight,D=f.withRooms,B=f.withInfants,W=(null==m?void 0:m.numOfTravelers)&&!b?null==m?void 0:m.numOfTravelers:b+x+(B?P:0),J=Ae(a.useState(!1),2),V=J[0],Y=J[1],M=Ae(a.useState(null==m?void 0:m.name),2),Q=M[0],X=M[1],Z=Ae(a.useState(!1),2),q=Z[0],$=Z[1],ee=Ae(a.useState("guests-hidden"),2),te=ee[0],ae=ee[1],re=(0,oe.c)(f,p.rooms,W),ie=(0,T.useLocalization)().formatText,le=f.roomsGuestsToken,ce=f.travelersToken,de=p.rooms.length,me=f.withRooms?ie(le,de,W):ie(ce,W);a.useEffect((function(){X(void 0),ae(""),$(!0),s||function(){var e,n,t=c instanceof se.mU?1:2,a={rooms:[{adults:D&&j||E&&D||!D&&!j?2:t,children:[],infants:[]}],infantSeating:Te.J.ON_LAP};f.withRooms?null===(e=c.updateHotelTravelersSelection)||void 0===e||e.call(c,a):null===(n=c.updateNonHotelTravelersSelection)||void 0===n||n.call(c,a)}(),l&&V&&l(!1)}),[V]);var fe=function(e){e.preventDefault(),w.openDialog(),ye.trackEvent(we+ne.sF),Y(!V),(0,i.P)(ie(k),i.a.POLITE)},he=function(){return!c.validateTravelersField||c.validateTravelersField()},ve=function(){return Y((function(e){return!he()&&e||!e}))},pe=function(e){ve(),e.preventDefault(),ye.trackEvent(we+ne.sF),(0,i.P)(ie(k),i.a.POLITE)},Oe=function(){return a.createElement(ue.Viewport,null,a.createElement(ue.ViewSmall,null,a.createElement(o.o,{icon:f.icon,className:te,label:ie(f.labelToken),"aria-label":me,value:re,name:Q,"data-testid":"travelers-field-trigger",onClick:fe,domRef:O})),a.createElement(ue.ViewLarge,null,a.createElement(o.o,{icon:f.icon,className:te,label:ie(f.labelToken),"aria-label":me,onClick:pe,value:re,name:Q,"data-testid":"travelers-field-trigger",domRef:O})))},Ce=function(){return a.createElement(h.UitkLink,{noWrap:!0},a.createElement("button",{type:"button","data-testid":"travelers-field",ref:O,"aria-label":me},re,a.createElement(g.fR,{name:"expand_more"})))},ye=(0,ne.uY)(c.trackingEnabled,S,c.moduleName),we="guests.",Ie=c.config.elementId||"",be=Ie.includes("flight")||Ie.includes("hotel")?Re.d.RIGHT:Re.d.LEFT;return a.createElement(a.Fragment,null,a.createElement(ke.X,{showAdaptive:V,dialogWrapper:function(e){return a.createElement(I,null,e)},handleDialogClick:fe,handleMenuClick:pe,adaptiveTrigger:function(){return t===Se.Q.LINK_BUTTON?Ce():Oe()},menuPosition:be,toolbar:{toolbarTitle:ie(f.dialogTitleToken),navigationContent:{navIconLabel:ie(f.dialogCancelLabelToken),onClick:function(){he()&&(O.current&&O.current.focus(),w.closeDialog(),ye.trackEvent(we+ne.t9)),ve()}}}},a.createElement(ge,{travelers:p,config:f,onSave:function(e){he()&&(O.current&&O.current.focus(),d&&(u&&!s&&u(),d("SUBMIT",e)),y&&w.closeDialog(),ye.trackEvent(we+ne.T_)),ve()},onChange:function(e){return d("CHANGE",e)},lobState:c,invalidTokenKey:R})),q&&a.createElement(Ee,{hiddenInputType:f.hiddenInputType,flightSearch:H,hotwireFlightSearch:_,hotelSearch:N,hotwireHotelSearch:L,groundTransportSearch:U,packageSearch:z,hotwirePackageSearch:F,cruiseSearch:G,thirdSearch:K,isApiCallEnabled:A}))})))},45239:function(e,n,t){t.d(n,{m:function(){return a.m},J:function(){return r.J}});var a=t(25525),r=t(3837)},73647:function(e,n,t){var a;t.d(n,{Q:function(){return a}}),function(e){e.FAKE_INPUT="fake input",e.LINK_BUTTON="link button"}(a||(a={}))},45688:function(e,n,t){t.d(n,{Y:function(){return l},c:function(){return o}});var a=t(3837),r=t(29892),i=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e){var n,t,r,l,o,c,d=[],u=[],s=e.rooms.reduce((function(n,t,r){var l,o,c,s;n.numOfAdults+=t.adults,n.numOfChildren+=t.children.length,n.numOfInfants+=t.infants.length;var m=[],f=0;try{for(var h=i(t.children),g=h.next();!g.done;g=h.next()){var v=g.value;m.push(v.age),u.push(r+1+"_"+v.age),f+=v.age>=12?1:0,n.packageSearch["childAges["+(r+1)+"]["+m.length+"]"]=v.age,n.hotwirePackageSearch["childrenAgePerRoom"+r+(m.length-1)]=v.age}}catch(T){l={error:T}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(l)throw l.error}}n.travelersAgeTwelveOrOlder+=t.adults+f;try{for(var p=i(t.infants),E=p.next();!E.done;E=p.next()){var S=E.value;m.push(S.age),u.push(r+1+"_"+S.age),n.packageSearch["childAges["+(r+1)+"]["+m.length+"]"]=S.age,n.hotwirePackageSearch["childrenAgePerRoom"+r+(m.length-1)]=S.age}}catch(R){c={error:R}}finally{try{E&&!E.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return d.push(t.adults),n.packageSearch["adultsPerRoom["+(r+1)+"]"]=t.adults,n.packageSearch["childrenPerRoom["+(r+1)+"]"]=t.children.length+t.infants.length,n.flightSearch=function(e,n,t){var r=e.numOfAdults,i="";return i="children:"+(e.numOfChildren+e.numOfInfants),i+=n.length?"["+n.join(";")+"]":"",i+=",adults:"+r,i+=",seniors:0",i+",infantinlap:"+(t===a.J.ON_LAP?"Y":"N")}(n,m,e.infantSeating),n.hotwireFlightSearch=function(e){return e.numOfAdults+e.numOfChildren}(n),n.hotwirePackageSearch["numAdultsPerRoom"+r]=t.adults,n.hotwirePackageSearch["numChildrenPerRoom"+r]=t.children.length+t.infants.length,n.cruiseSearch=function(e,n){var t=e.numOfAdults,a=e.numOfChildren,r=e.cruiseSearch;return r.numOfAdults=t,r.numOfChildren=a,n.length&&(r.childAges=n.join(",")),r}(n,m),n.thirdSearch=function(e,n){var t=e.numOfAdults,a=e.numOfChildren,r=e.thirdSearch;return r.numOfAdults=t,r.numOfChildren=a,n.length&&(r.childAges=n.join(",")),r}(n,m),n.groundTransportSearch=function(e){var n=e.numOfAdults,t=e.numOfChildren,a=e.numOfInfants,r=e.groundTransportSearch;return r.numOfAdults=n,r.numOfChildren=t,r.numOfInfants=a,r}(n),n}),{numOfAdults:0,numOfChildren:0,numOfInfants:0,numOfRooms:0,travelersAgeTwelveOrOlder:0,flightSearch:"",hotwireFlightSearch:0,hotelSearch:{rooms:"0",adults:"0"},hotwireHotelSearch:{rooms:"0",adults:"0"},packageSearch:{numberOfRooms:"0",infantsInSeats:"0"},hotwirePackageSearch:{numberOfRooms:"0",infantsInSeats:"0"},cruiseSearch:{numOfAdults:1,numOfChildren:0},thirdSearch:{numOfAdults:1,numOfChildren:0},groundTransportSearch:{numOfAdults:1,numOfChildren:0,numOfInfants:0}});return s.numOfRooms=e.rooms.length,s.hotelSearch=function(e,n,t){var a=t.numOfRooms,r=t.hotelSearch;return r.rooms=a.toString(),r.adults=e.join(","),n.length&&(r.children=n.join(",")),r}(d,u,s),s.hotwireHotelSearch=(t=(n=s).numOfAdults,r=n.numOfChildren,l=n.numOfInfants,o=n.numOfRooms,(c=n.hotwireHotelSearch).rooms=o.toString(),c.adults=t.toString(),c.children=(r+l).toString(),c),s.packageSearch.numberOfRooms=s.numOfRooms.toString(),s.hotwirePackageSearch.noOfRooms=s.numOfRooms.toString(),s.packageSearch.infantsInSeats=e.infantSeating===a.J.IN_SEAT?"1":"0",s},o=function(e,n,t){var a=(0,r.useLocalization)().formatText,i=e.withRooms,l=e.roomsGuestsToken,o=e.travelersToken;return i?a(l,n.length,t):a(o,t)}}}]);
//# sourceMappingURL=shared~TravelersField.0855916ac115dc1b96f8.js.map